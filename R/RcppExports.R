# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Compute string extents.
#'
#' Determines the width and height of a bounding box that's big enough
#' to (just) enclose the provided text.
#'
#' @param x Character vector of of strings to measure
#' @param bold,italic Is text bold/italic?
#' @param fontname Font name
#' @param fontsize Font size
#' @param fontfile Font file
#' @examples
#' str_extents(letters)
#' str_extents("Hello World!", bold = TRUE, italic = FALSE,
#'   fontname = "sans", fontsize = 12)
#' @export
str_extents <- function(x, fontname = "sans", fontsize = 12, bold = FALSE, italic = FALSE, fontfile = "") {
    .Call('gdtools_str_extents', PACKAGE = 'gdtools', x, fontname, fontsize, bold, italic, fontfile)
}

#' Get font metrics for a string.
#'
#' @return A named numeric vector
#' @inheritParams str_extents
#' @examples
#' str_metrics("Hello World!")
#' @export
str_metrics <- function(x, fontname = "sans", fontsize = 12, bold = FALSE, italic = FALSE, fontfile = "") {
    .Call('gdtools_str_metrics', PACKAGE = 'gdtools', x, fontname, fontsize, bold, italic, fontfile)
}

context_create <- function() {
    .Call('gdtools_context_create', PACKAGE = 'gdtools')
}

context_set_font <- function(cc, fontname, fontsize, bold, italic, fontfile = "") {
    .Call('gdtools_context_set_font', PACKAGE = 'gdtools', cc, fontname, fontsize, bold, italic, fontfile)
}

context_extents <- function(cc, x) {
    .Call('gdtools_context_extents', PACKAGE = 'gdtools', cc, x)
}

raster_to_str <- function(raster, w, h, width, height, interpolate) {
    .Call('gdtools_raster_to_str', PACKAGE = 'gdtools', raster, w, h, width, height, interpolate)
}

raster_to_file <- function(raster_, w, h, width, height, interpolate, filename) {
    .Call('gdtools_raster_to_file', PACKAGE = 'gdtools', raster_, w, h, width, height, interpolate, filename)
}

raster_png_ <- function(raster_, w, h, width, height, interpolate, filename) {
    .Call('gdtools_raster_png_', PACKAGE = 'gdtools', raster_, w, h, width, height, interpolate, filename)
}

base64_raster_encode <- function(raster_, w, h, width, height, interpolate) {
    .Call('gdtools_base64_raster_encode', PACKAGE = 'gdtools', raster_, w, h, width, height, interpolate)
}

base64_file_encode <- function(filename) {
    .Call('gdtools_base64_file_encode', PACKAGE = 'gdtools', filename)
}

#' @title List system fonts.
#'
#' @description List system fonts details into a data.frame containing columns foundry, family,
#' file, slant and weight.
#'
#' @examples
#' sys_fonts()
#' @export
sys_fonts <- function() {
    .Call('gdtools_sys_fonts', PACKAGE = 'gdtools')
}

#' Find best family match with fontconfig
#'
#' \code{match_family()} returns the best font family match for the
#' fontconfig pattern constructed from the \code{bold} and
#' \code{italic} arguments. The default pattern is bold italic to make
#' sure the matched font has enough features to be used in R graphics
#' (plain, bold, italic, bold italic). \code{match_font()} returns the
#' font file from the best family match, along with some metada in the
#' attributes.
#'
#' Fontconfig matching is controlled via the \code{fonts.conf}
#' file. Call \code{Sys.setenv(FC_DEBUG = 1024)} before calling
#' \code{match_family()} to make fontconfig reveal what configuration
#' file it is currently using (there can be several installations on
#' one system, especially on Macs).
#'
#' @param font family or face to match.
#' @param bold Wheter to match a font featuring a \code{bold} face.
#' @param italic Wheter to match a font featuring an \code{italic} face.
#'
#' @export
#' @examples
#' match_family("sans")
#' match_family("serif", bold = FALSE, italic = TRUE)
#'
#' match_font("Helvetica", bold = FALSE, italic = TRUE)
match_family <- function(font = "sans", bold = 1L, italic = 1L) {
    .Call('gdtools_match_family', PACKAGE = 'gdtools', font, bold, italic)
}

#' @rdname match_family
#' @export
match_font <- function(font = "sans", bold = 0L, italic = 0L) {
    .Call('gdtools_match_font', PACKAGE = 'gdtools', font, bold, italic)
}

# Register entry points for exported C++ functions
methods::setLoadAction(function(ns) {
    .Call('gdtools_RcppExport_registerCCallable', PACKAGE = 'gdtools')
})
